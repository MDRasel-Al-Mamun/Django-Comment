{% extends 'base/base.html' %}

{% load static %}

{% block title %} {% endblock %}

{% block extrahead %} {% endblock %}

{% block extrastyle %} {% endblock %}

{% block header %} {% include 'partials/_header.html' %} {% endblock %}

{% block content %}

<section class="blog-post">
 <div class="container my-5">
  <h1 class="text text-center text-uppercase py-3">Blog Post</h1>
  <div class="row">

   <!-- Post Content Column -->

   {% if posts %}
   {% for post in posts %}
   <div class="col-sm-6 col-md-6 col-lg-4">
    <div class="card mb-4">
     <div class="img-box">
      <img class="card-img-top" src="{{ post.thumbnail.url }}" width="100%" height="250px" alt="Card image cap">
     </div>
     <div class="card-body">
      <span class="text text-warning text-uppercase">{{ post.category.name }}</span>
      <a class="text-decoration-none text-dark" href="{{ post.get_absolute_url }}">
       <h4 class="card-title text-capitalize">
        {{ post.title|truncatewords:6 }}
       </h4>
      </a>
      <p class="card-text text-justify">{{ post.overview|truncatewords:12 }}</p>
      <a href="{{ post.get_absolute_url }}" class="btn btn-secondary">Read More &rarr;</a>
     </div>
     <div class="card-footer text-muted">
      <div class="">
       <span class="post-auhor-date">
        <span>
         <a href="" class="pr-1">
          <img src="{{ post.author.userprofile.image.url }}" height="30px" width="30px" class="rounded-circle" alt="">
         </a>
        </span>
        <span href="" class=""> {{ post.publish_date }}</span>
       </span>
       <span class="px-1"> | </span>
       <span class="post-readtime">
        <i class="fal fa-clock"></i>
        1 min <span>read</span>
       </span>
      </div>
     </div>
    </div>

   </div>
   {% endfor %}
   {% else %}
   <h4 class="text text-uppercase lead">There Are No Posts</h4>
   {% endif %}
  </div>
  {% if posts %}
  <div class="row mx-auto">
   <div class="col-md-12 text-center">
    <a href="{% url 'blog' %}" class="btn btn-outline-info">Show All Posts &rarr;</a>
   </div>
  </div>
  {% endif %}
 </div>
</section>

{% endblock %}

{% block footer %} {% include 'partials/_footer.html' %} {% endblock %}

{% block extrascripts %} {% endblock %}